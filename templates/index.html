<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="manifest" href="/static/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="BabyFoot">
  <link rel="apple-touch-icon" href="/static/images/logo.svg">
  <meta charset="UTF-8">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" crossorigin="anonymous">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Baby-Foot Club</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='responsive-mobile.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='global-animations.css') }}">
  <script src="{{ url_for('static', filename='global-animations.js') }}" defer></script>
</head>
<body>

<nav class="nav">
  <div class="nav-inner">
    <a href="/" class="nav-brand">
      <img src="{{ url_for('static', filename='images/logo.svg') }}" alt="">
      <span class="brand-text">Baby-Foot Club</span>
    </a>
    <div class="nav-sep"></div>
    <div class="nav-links">
      <a href="/" class="nav-link active">Accueil</a>
      <a href="#features" class="nav-link">Fonctionnalit√©s</a>
      <a href="/top" class="nav-link">Classement</a>
      <a href="/scores" class="nav-link">Scores</a>
    </div>
    <!-- Burger pour visiteurs mobile -->
    <button class="burger" id="burger" onclick="toggleMenu()" aria-label="Menu">
      <span></span><span></span><span></span>
    </button>
    <div class="nav-right">
      <a href="/login" class="btn btn-primary" style="font-size:0.875rem;padding:8px 18px">Se connecter</a>
    </div>
  </div>
</nav>

<!-- Mobile menu visiteurs -->
<div class="mobile-menu" id="mobileMenu">
  <button class="mobile-menu-close" onclick="toggleMenu()">‚úï</button>
  <a href="/">Accueil</a>
  <a href="#features" onclick="toggleMenu()">Fonctionnalit√©s</a>
  <a href="/top"><i class="fas fa-trophy"></i> Classement</a>
  <a href="/scores"><i class="fas fa-chart-bar"></i> Scores</a>
  <a href="/login" style="background:rgba(205,127,50,0.15);border-color:rgba(205,127,50,0.4);color:var(--bronze);font-weight:700">üîë Se connecter</a>
  <a href="/register">üìù Cr√©er un compte</a>
  <button id="pwa-menu-btn" onclick="triggerPWAInstall()" style="display:none;align-items:center;gap:0.75rem;width:100%;background:linear-gradient(135deg,rgba(205,127,50,0.15),rgba(205,127,50,0.08));border:1px solid rgba(205,127,50,0.3);border-radius:10px;padding:0.875rem 1rem;color:#cd7f32;font-weight:700;font-size:0.9375rem;cursor:pointer;margin-top:0.5rem;text-align:left;-webkit-appearance:none">
    <span style="font-size:1.25rem">üì≤</span> Installer l'app
  </button>

</div>

<div class="hero">
  <div class="hero-bg-animated">
    <div class="glow-orb orb-1"></div>
    <div class="glow-orb orb-2"></div>
    <div class="glow-orb orb-3"></div>
  </div>
<div class="hero-inner">
    <div class="hero-eyebrow"><span data-bficon="ball" data-size="20" style="color:var(--bronze)"></span>&nbsp;Plateforme Baby-Foot connect√©e</div>
    <h1 class="hero-title">
      Jouez.<br>
      <em class="gradient-shine">Dominez.</em>
    </h1>
    <p class="hero-body">
      R√©servez vos cr√©neaux, suivez vos scores en temps r√©el et d√©verrouillez
      la balle depuis votre t√©l√©phone. Une exp√©rience de jeu moderne et connect√©e.
    </p>
    <div class="hero-cta">
      <a href="/register" class="btn btn-primary btn-lg btn-shine">
        <span>Commencer maintenant</span>
        <svg width="18" height="18" viewBox="0 0 16 16" fill="none">
          <path d="M6 12L10 8L6 4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </a>
      <a href="#features" class="btn btn-secondary btn-lg">
        <svg width="18" height="18" viewBox="0 0 16 16" fill="currentColor">
          <path d="M5 3.5L11 8L5 12.5V3.5Z"/>
        </svg>
        <span>D√©couvrir</span>
      </a>
    </div>
    <div class="hero-stats">
      <div class="stat-box">
        <div class="stat-value" id="stat-parties">‚Äî</div>
        <div class="stat-label">Parties jou√©es</div>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-box">
        <div class="stat-value" id="stat-joueurs">‚Äî</div>
        <div class="stat-label">Joueurs actifs</div>
      </div>
      <div class="stat-divider"></div>
      <div class="stat-box">
        <div class="stat-value" id="stat-temps">‚Äî</div>
        <div class="stat-label">Temps moyen</div>
      </div>
    </div>
  </div>
</div>

<section class="features" id="features">
  <div class="container" style="text-align:center;margin-bottom:var(--space-xl)">
    <div class="section-eyebrow">Fonctionnalit√©s</div>
    <h2 class="section-title">Tout ce dont vous avez besoin</h2>
    <p class="section-sub">Une plateforme compl√®te pour g√©rer votre baby-foot de A √† Z</p>
  </div>
  <div class="container">
    <div class="feat-grid">
      <div class="feat-cell">
        <div class="feat-icon" data-bficon="timer" data-size="52" style="color:var(--bronze)"></div>
        <h3>R√©servation 25 min</h3>
        <p>Cr√©neaux de 25 minutes, disponibles aujourd'hui et demain. Simple et pr√©cis.</p>
      </div>
      <div class="feat-cell">
        <div class="feat-icon" data-bficon="live" data-size="52" style="color:var(--bronze)"></div>
        <h3>Score en direct</h3>
        <p>WebSocket temps r√©el. Chaque but est synchronis√© instantan√©ment sur tous les appareils.</p>
      </div>
      <div class="feat-cell">
        <div class="feat-icon" data-bficon="unlock" data-size="52" style="color:var(--bronze)"></div>
        <h3>D√©verrouillage</h3>
        <p>Acc√®s √† la balle uniquement pendant votre cr√©neau r√©serv√© via Arduino.</p>
      </div>
      <div class="feat-cell">
        <div class="feat-icon" data-bficon="stats" data-size="52" style="color:var(--bronze)"></div>
        <h3>Statistiques</h3>
        <p>Suivez vos performances, points accumul√©s et votre progression dans le temps.</p>
      </div>
      <div class="feat-cell">
        <div class="feat-icon" data-bficon="trophy" data-size="52" style="color:var(--bronze)"></div>
        <h3>Classement</h3>
        <p>Top 10 mis √† jour apr√®s chaque partie. Votre position en temps r√©el.</p>
      </div>
      <div class="feat-cell">
        <div class="feat-icon" data-bficon="foosball" data-size="52" style="color:var(--bronze)"></div>
        <h3>Multi-modes</h3>
        <p>Jouez en duel 1v1 ou en √©quipe 2v2. La plateforme s'adapte √† votre configuration.</p>
      </div>
    </div>
  </div>
</section>

<!-- CTA inscription -->
<section style="padding:4rem 0;text-align:center;position:relative;z-index:10">
  <div class="container">
    <h2 style="font-size:2rem;font-weight:800;margin-bottom:1rem;color:var(--text-primary)">
      Pr√™t √† jouer ?
    </h2>
    <p style="color:var(--text-tertiary);margin-bottom:2rem;font-size:1.1rem">
      Cr√©ez votre compte gratuitement et rejoignez le club
    </p>
    <div style="display:flex;gap:1rem;justify-content:center;flex-wrap:wrap">
      <a href="/register" class="btn btn-primary btn-lg btn-shine">
        <span>Cr√©er un compte</span>
      </a>
      <a href="/login" class="btn btn-secondary btn-lg">
        <span>Se connecter</span>
      </a>
    </div>
  </div>
</section>

<footer>
  ¬© 2026 Baby-Foot Club ‚Äî Tous droits r√©serv√©s
</footer>

<script src="{{ url_for('static', filename='animations.js') }}"></script>
<script src="{{ url_for('static', filename='icons.js') }}"></script>
<script>
function toggleMenu() {
  document.getElementById('burger').classList.toggle('open');
  document.getElementById('mobileMenu').classList.toggle('open');
  document.body.style.overflow = document.getElementById('mobileMenu').classList.contains('open') ? 'hidden' : '';
}

async function loadPublicStats() {
  try {
    const res = await fetch('/api/public_stats');
    if (!res.ok) throw new Error();
    const data = await res.json();

    const games = data.total_games ?? 0;
    document.getElementById('stat-parties').textContent = games > 0 ? games + '+' : '0';

    const players = data.active_players ?? 0;
    document.getElementById('stat-joueurs').textContent = players > 0 ? players : '0';

    document.getElementById('stat-temps').textContent = '15min';
  } catch(e) {
    document.getElementById('stat-parties').textContent = '0';
    document.getElementById('stat-joueurs').textContent = '0';
    document.getElementById('stat-temps').textContent = '15min';
  }
}

loadPublicStats();
</script>
  <script src="/static/pwa.js" defer></script>
</body>
</html>
